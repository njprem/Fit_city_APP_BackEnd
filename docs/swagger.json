{"basePath": "/api/v1", "definitions": {"http.AuthRole": {"properties": {"created_at": {"example": "2024-01-01T12:00:00Z", "type": "string"}, "description": {"type": "string"}, "id": {"example": "f4bb0e02-5f91-4ce0-a6c0-7f63f3a8d5e2", "type": "string"}, "role_name": {"example": "admin", "type": "string"}, "updated_at": {"example": "2024-01-01T12:00:00Z", "type": "string"}}, "type": "object"}, "http.AuthTokenResponse": {"properties": {"expires_at": {"example": "2024-01-02T09:30:00Z", "type": "string"}, "token": {"example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...", "type": "string"}, "user": {"$ref": "#/definitions/http.AuthUser"}}, "type": "object"}, "http.AuthUser": {"properties": {"created_at": {"example": "2024-01-01T12:00:00Z", "type": "string"}, "email": {"example": "user@example.com", "type": "string"}, "full_name": {"example": "Fit City", "type": "string"}, "id": {"example": "9fd13fd2-63c5-4f29-a210-4a1a8e285f74", "type": "string"}, "profile_completed": {"example": true, "type": "boolean"}, "role_id": {"example": "6a4f2f1e-1c7b-4a5e-a938-f1ed9b1fad10", "type": "string"}, "role_name": {"example": "member", "type": "string"}, "roles": {"items": {"$ref": "#/definitions/http.AuthRole"}, "type": "array"}, "updated_at": {"example": "2024-01-02T09:30:00Z", "type": "string"}, "user_image_url": {"example": "https://cdn.example.com/avatar.png", "type": "string"}, "username": {"example": "fitcityuser", "type": "string"}}, "type": "object"}, "http.AuthUserResponse": {"properties": {"user": {"$ref": "#/definitions/http.AuthUser"}}, "type": "object"}, "http.ChangePasswordRequest": {"properties": {"current_password": {"example": "OldPass!23", "type": "string"}, "new_password": {"example": "NewPass!45", "type": "string"}}, "type": "object"}, "http.Destination": {"properties": {"average_rating": {"example": 4.3, "format": "double", "type": "number"}, "category": {"example": "Nature", "type": "string"}, "city": {"example": "New York", "type": "string"}, "closing_time": {"example": "22:00", "type": "string"}, "contact": {"example": "+1-212-310-6600", "type": "string"}, "country": {"example": "USA", "type": "string"}, "created_at": {"example": "2024-07-10T12:00:00Z", "type": "string"}, "deleted_at": {"type": "string"}, "description": {"example": "Iconic urban park spanning 843 acres.", "type": "string"}, "gallery": {"items": {"$ref": "#/definitions/http.DestinationMedia"}, "type": "array"}, "hero_image_url": {"example": "https://cdn.fitcity/destinations/central-park.jpg", "type": "string"}, "id": {"example": "1da5f07d-7dcf-4aea-b948-7c9daa0a5db7", "type": "string"}, "latitude": {"example": 40.785091, "format": "double", "type": "number"}, "longitude": {"example": -73.968285, "format": "double", "type": "number"}, "name": {"example": "Central Park", "type": "string"}, "opening_time": {"example": "08:00", "type": "string"}, "review_count": {"example": 128, "type": "integer"}, "slug": {"example": "central-park", "type": "string"}, "status": {"enum": ["draft", "published", "archived"], "type": "string"}, "updated_at": {"example": "2024-07-11T08:00:00Z", "type": "string"}, "updated_by": {"example": "9fd13fd2-63c5-4f29-a210-4a1a8e285f74", "type": "string"}, "version": {"example": 3, "type": "integer"}}, "type": "object"}, "http.DestinationApproveResponse": {"properties": {"change_request": {"$ref": "#/definitions/http.DestinationChange"}, "destination": {"$ref": "#/definitions/http.Destination"}, "message": {"example": "Destination updated successfully", "type": "string"}}, "type": "object"}, "http.DestinationChange": {"properties": {"action": {"enum": ["create", "update", "delete"], "type": "string"}, "created_at": {"example": "2024-07-10T12:00:00Z", "type": "string"}, "destination_id": {"type": "string"}, "draft_version": {"example": 2, "type": "integer"}, "fields": {"$ref": "#/definitions/http.DestinationChangeFields"}, "hero_image_temp_key": {"type": "string"}, "id": {"example": "3c7f3af4-6d0b-4933-b3e8-5e56b6f07080", "type": "string"}, "published_version": {"example": 6, "type": "integer"}, "review_message": {"type": "string"}, "reviewed_at": {"type": "string"}, "reviewed_by": {"type": "string"}, "status": {"enum": ["draft", "pending_review", "approved", "rejected"], "type": "string"}, "submitted_at": {"type": "string"}, "submitted_by": {"type": "string"}, "updated_at": {"example": "2024-07-11T08:00:00Z", "type": "string"}, "submitted_by_full_name": {"type": "string"}, "submitted_by_username": {"type": "string"}, "reviewed_by_full_name": {"type": "string"}, "reviewed_by_username": {"type": "string"}}, "type": "object"}, "http.DestinationChangeFields": {"description": "Editable destination attributes supplied when creating or updating change drafts.", "properties": {"category": {"description": "Free-form category label (e.g., Nature, Museum, Food).", "example": "Nature", "type": "string"}, "city": {"description": "City where the destination is located.", "example": "New York", "type": "string"}, "closing_time": {"description": "Daily closing time in HH:MM (24h) format.", "example": "22:00", "type": "string"}, "contact": {"description": "Optional contact info (phone, email, or booking URL).", "example": "+1 212-310-6600", "type": "string"}, "country": {"description": "Country for the destination.", "example": "USA", "type": "string"}, "description": {"description": "Visitor-facing description or highlights.", "example": "Iconic urban park with year-round programming.", "type": "string"}, "gallery": {"description": "Ordered gallery media to publish with the destination.", "items": {"$ref": "#/definitions/http.DestinationMedia"}, "type": "array"}, "hard_delete": {"description": "When true and action is delete, removes the destination permanently.", "type": "boolean"}, "hero_image_upload_id": {"description": "Temporary upload identifier returned from the hero upload endpoint.", "example": "9c2d4ee5-32be-4f08-b4c0-f59196c6f36f", "type": "string"}, "hero_image_url": {"description": "Fully-qualified URL to an existing hero image when reusing published media.", "example": "https://cdn.fitcity/destinations/central-park.jpg", "type": "string"}, "latitude": {"description": "Decimal latitude for map placement.", "example": 40.785091, "format": "double", "type": "number"}, "longitude": {"description": "Decimal longitude for map placement.", "example": -73.968285, "format": "double", "type": "number"}, "name": {"description": "Public display name for the destination.", "example": "Central Park", "type": "string"}, "opening_time": {"description": "Daily opening time in HH:MM (24h) format.", "example": "06:00", "type": "string"}, "published_hero_image": {"description": "(Read-only) currently published hero image URL; useful for draft diffs.", "example": "https://cdn.fitcity/destinations/central-park.jpg", "type": "string"}, "slug": {"description": "Optional URL-friendly slug; generated if omitted.", "example": "central-park", "type": "string"}, "status": {"description": "Desired publication status when approving the draft.", "enum": ["draft", "published", "archived"], "type": "string"}}, "type": "object"}, "http.DestinationChangeListResponse": {"properties": {"changes": {"items": {"$ref": "#/definitions/http.DestinationChange"}, "type": "array"}, "meta": {"$ref": "#/definitions/http.PageMeta"}}, "type": "object"}, "http.DestinationChangeResponse": {"properties": {"change_request": {"$ref": "#/definitions/http.DestinationChange"}}, "type": "object"}, "http.DestinationDraftRequest": {"description": "Payload for starting a destination change draft.", "example": {"action": "update", "destination_id": "1da5f07d-7dcf-4aea-b948-7c9daa0a5db7", "fields": {"city": "New York", "country": "USA", "name": "Central Park", "status": "draft"}}, "properties": {"action": {"description": "Draft action indicates whether the change creates, updates, or deletes a destination.", "enum": ["create", "update", "delete"], "type": "string"}, "destination_id": {"description": "Destination UUID; required for update and delete actions.", "type": "string"}, "fields": {"$ref": "#/definitions/http.DestinationChangeFields", "description": "Field-level changes that should be applied once the draft is approved."}}, "required": ["action"], "type": "object"}, "http.DestinationImportJob": {"properties": {"changes_created": {"example": 1, "type": "integer"}, "completed_at": {"example": "2025-11-13T17:51:20.253166Z", "type": "string"}, "created_at": {"example": "2025-11-13T17:51:20.243718Z", "type": "string"}, "dry_run": {"type": "boolean"}, "error_csv_key": {"type": "string"}, "file_key": {"example": "destinations/imports/35190d3f-1c71-4875-aeaf-d3f8ba0cc905/valid_import.csv", "type": "string"}, "id": {"example": "35190d3f-1c71-4875-aeaf-d3f8ba0cc905", "type": "string"}, "notes": {"type": "string"}, "pending_change_ids": {"items": {"type": "string"}, "type": "array"}, "processed_rows": {"example": 2, "type": "integer"}, "rows_failed": {"example": 1, "type": "integer"}, "status": {"enum": ["queued", "processing", "completed", "failed"], "type": "string"}, "submitted_at": {"example": "2025-11-13T17:51:20.243628Z", "type": "string"}, "total_rows": {"example": 2, "type": "integer"}, "updated_at": {"example": "2025-11-13T17:51:20.253259Z", "type": "string"}, "uploaded_by": {"example": "7a13808e-47f9-4af2-b146-8288dd053216", "type": "string"}, "submitted_by": {"example": "7a13808e-47f9-4af2-b146-8288dd053216", "type": "string"}, "submitted_by_full_name": {"type": "string"}, "submitted_by_username": {"type": "string"}}, "type": "object"}, "http.DestinationImportResponse": {"properties": {"job": {"$ref": "#/definitions/http.DestinationImportJob"}, "rows": {"items": {"$ref": "#/definitions/http.DestinationImportRow"}, "type": "array"}}, "type": "object"}, "http.DestinationImportRow": {"properties": {"action": {"example": "create", "type": "string"}, "change_id": {"example": "a468173a-b413-4232-b294-084d47cdd941", "type": "string"}, "error": {"example": "destination change validation failed", "type": "string"}, "id": {"example": "5c657fbd-94f5-4ab8-84c2-dc21b3c21039", "type": "string"}, "job_id": {"example": "35190d3f-1c71-4875-aeaf-d3f8ba0cc905", "type": "string"}, "payload": {"$ref": "#/definitions/http.DestinationChangeFields"}, "row_number": {"example": 2, "type": "integer"}, "status": {"enum": ["pending_review", "skipped", "failed"], "type": "string"}}, "type": "object"}, "http.DestinationImportTemplateResponse": {"properties": {"template": {"properties": {"headers": {"items": {"type": "string"}, "type": "array"}, "sample_row": {"items": {"type": "string"}, "type": "array"}}, "type": "object"}}, "type": "object"}, "http.DestinationListResponse": {"properties": {"destinations": {"items": {"$ref": "#/definitions/http.Destination"}, "type": "array"}, "meta": {"$ref": "#/definitions/http.PageMeta"}}, "type": "object"}, "http.DestinationMedia": {"properties": {"caption": {"description": "Short description rendered under the image.", "example": "Summer blooms near the lake", "type": "string"}, "ordering": {"description": "Zero-based ordering for display.", "example": 1, "type": "integer"}, "url": {"description": "Publicly accessible image URL or CDN path.", "example": "https://cdn.fitcity/destinations/central-park/gallery-1.jpg", "type": "string"}}, "required": ["url"], "type": "object"}, "http.DestinationRejectRequest": {"properties": {"message": {"example": "Please provide updated pricing details.", "type": "string"}}, "type": "object"}, "http.DestinationResponse": {"properties": {"destination": {"$ref": "#/definitions/http.Destination"}}, "type": "object"}, "http.DestinationStatsExportRequest": {"properties": {"destination_ids": {"items": {"example": "e3ff134a-bbd0-46f4-9586-2414627acafd", "type": "string"}, "type": "array"}}, "type": "object"}, "http.DestinationTrendingResponse": {"properties": {"destinations": {"items": {"$ref": "#/definitions/http.TrendingDestination"}, "type": "array"}, "limit": {"example": 10, "type": "integer"}, "range": {"example": "24h", "type": "string"}}, "type": "object"}, "http.DestinationUpdateRequest": {"description": "Update an existing destination change draft. Fields are merged on the server.", "example": {"draft_version": 3, "fields": {"closing_time": "23:00", "description": "Adds skating rink programming details.", "opening_time": "06:00"}}, "properties": {"draft_version": {"description": "Last known draft version to guard against lost updates.", "example": 2, "type": "integer"}, "fields": {"$ref": "#/definitions/http.DestinationChangeFields", "description": "Updated destination fields to merge into the draft payload."}}, "required": ["draft_version"], "type": "object"}, "http.DestinationViewCount": {"properties": {"last_updated_at": {"example": "2025-11-12T03:35:49Z", "type": "string"}, "total_views": {"example": 1287, "format": "int64", "type": "integer"}, "unique_ips": {"example": 342, "type": "integer"}, "unique_users": {"example": 12, "type": "integer"}}, "type": "object"}, "http.DestinationViewStatsResponse": {"properties": {"city": {"example": "Bangkok", "type": "string"}, "country": {"example": "Thailand", "type": "string"}, "destination_id": {"example": "e3ff134a-bbd0-46f4-9586-2414627acafd", "type": "string"}, "name": {"example": "Manual Test Destination", "type": "string"}, "views": {"additionalProperties": {"$ref": "#/definitions/http.DestinationViewCount"}, "type": "object"}}, "type": "object"}, "http.ErrorResponse": {"properties": {"error": {"example": "invalid credentials", "type": "string"}}, "type": "object"}, "http.FavoriteCountResponse": {"properties": {"destination_id": {"example": "5b7a8702-b2c5-4de4-93c9-99322bd49ee2", "type": "string"}, "favorites_count": {"example": 1342, "type": "integer"}, "last_updated_utc": {"example": "2024-06-23T10:12:07Z", "type": "string"}}, "type": "object"}, "http.FavoriteDestination": {"properties": {"category": {"example": "Nature", "type": "string"}, "city": {"example": "Probolinggo", "type": "string"}, "country": {"example": "Indonesia", "type": "string"}, "hero_image_url": {"example": "https://cdn.fitcity.app/destinations/5b7a.../hero.jpg", "type": "string"}, "name": {"example": "Mount Bromo", "type": "string"}, "slug": {"example": "mount-bromo", "type": "string"}}, "type": "object"}, "http.FavoriteItem": {"properties": {"destination": {"$ref": "#/definitions/http.FavoriteDestination"}, "destination_id": {"example": "5b7a8702-b2c5-4de4-93c9-99322bd49ee2", "type": "string"}, "id": {"example": "11edaf11-0c18-43fd-b42d-0cd36b7c178b", "type": "string"}, "saved_at": {"example": "2024-06-23T10:12:07Z", "type": "string"}}, "type": "object"}, "http.FavoriteListPagination": {"properties": {"count": {"example": 1, "type": "integer"}, "limit": {"example": 20, "type": "integer"}, "offset": {"example": 0, "type": "integer"}, "total": {"example": 57, "type": "integer"}}, "type": "object"}, "http.FavoriteListResponse": {"properties": {"items": {"items": {"$ref": "#/definitions/http.FavoriteItem"}, "type": "array"}, "pagination": {"$ref": "#/definitions/http.FavoriteListPagination"}}, "type": "object"}, "http.FavoriteRecord": {"properties": {"destination_id": {"example": "5b7a8702-b2c5-4de4-93c9-99322bd49ee2", "type": "string"}, "id": {"example": "11edaf11-0c18-43fd-b42d-0cd36b7c178b", "type": "string"}, "saved_at": {"example": "2024-06-23T10:12:07Z", "type": "string"}}, "type": "object"}, "http.FavoriteRemoveResponse": {"properties": {"destination_id": {"example": "5b7a8702-b2c5-4de4-93c9-99322bd49ee2", "type": "string"}, "message": {"example": "Destination removed from Favorites", "type": "string"}}, "type": "object"}, "http.FavoriteSaveRequest": {"properties": {"destination_id": {"example": "5b7a8702-b2c5-4de4-93c9-99322bd49ee2", "type": "string"}}, "type": "object"}, "http.FavoriteSaveResponse": {"properties": {"favorite": {"$ref": "#/definitions/http.FavoriteRecord"}, "message": {"example": "Destination saved to Favorites", "type": "string"}}, "type": "object"}, "http.GalleryUpload": {"properties": {"ordering": {"description": "Suggested ordering offset applied when the upload was appended.", "type": "integer"}, "upload_id": {"description": "Temporary object storage key for the uploaded gallery asset.", "example": "destinations/changes/7b9f.../gallery/asset.jpg", "type": "string"}, "url": {"description": "Public URL referencing the uploaded gallery media.", "example": "https://cdn.fitcity/destinations/changes/asset.jpg", "type": "string"}}, "type": "object"}, "http.GoogleLoginRequest": {"properties": {"id_token": {"example": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...", "type": "string"}}, "type": "object"}, "http.LoginRequest": {"properties": {"email": {"example": "user@example.com", "type": "string"}, "password": {"example": "StrongPass!23", "type": "string"}}, "type": "object"}, "http.PageMeta": {"properties": {"count": {"example": 1, "type": "integer"}, "limit": {"example": 20, "type": "integer"}, "offset": {"example": 0, "type": "integer"}}, "type": "object"}, "http.PasswordResetConfirmRequest": {"properties": {"email": {"example": "user@example.com", "type": "string"}, "new_password": {"example": "NewPass!45", "type": "string"}, "otp": {"example": "123456", "type": "string"}}, "type": "object"}, "http.PasswordResetRequest": {"properties": {"email": {"example": "user@example.com", "type": "string"}}, "type": "object"}, "http.RegisterRequest": {"properties": {"email": {"example": "user@example.com", "type": "string"}, "password": {"example": "StrongPass!23", "type": "string"}}, "type": "object"}, "http.Review": {"properties": {"content": {"example": "Loved the guided tour and scenery.", "type": "string"}, "created_at": {"example": "2024-05-13T12:00:00Z", "type": "string"}, "destination_id": {"example": "9fd13fd2-63c5-4f29-a210-4a1a8e285f74", "type": "string"}, "id": {"example": "123e4567-e89b-12d3-a456-426614174000", "type": "string"}, "media": {"items": {"$ref": "#/definitions/http.ReviewMedia"}, "type": "array"}, "rating": {"example": 5, "type": "integer"}, "reviewer": {"$ref": "#/definitions/http.ReviewAuthor"}, "title": {"example": "Incredible experience", "type": "string"}, "updated_at": {"example": "2024-05-14T12:00:00Z", "type": "string"}}, "type": "object"}, "http.ReviewAggregate": {"properties": {"average_rating": {"example": 4.2, "format": "float", "type": "number"}, "rating_counts": {"additionalProperties": {"type": "integer"}, "example": {"0": 0, "1": 1, "2": 2, "3": 4, "4": 6, "5": 8}, "type": "object"}, "total_reviews": {"example": 21, "type": "integer"}}, "type": "object"}, "http.ReviewAuthor": {"properties": {"avatar_url": {"example": "https://cdn.fitcity/profiles/user-123.png", "type": "string"}, "display_name": {"example": "Jane Doe", "type": "string"}, "id": {"example": "0a1b2c3d-4e5f-6789-abcd-ef0123456789", "type": "string"}, "username": {"example": "janedoe", "type": "string"}}, "type": "object"}, "http.ReviewCreateResponse": {"properties": {"aggregate": {"$ref": "#/definitions/http.ReviewAggregate"}, "review": {"$ref": "#/definitions/http.Review"}}, "type": "object"}, "http.ReviewListResponse": {"properties": {"average_rating": {"example": 4.2, "format": "float", "type": "number"}, "destination_id": {"example": "9fd13fd2-63c5-4f29-a210-4a1a8e285f74", "type": "string"}, "limit": {"example": 20, "type": "integer"}, "offset": {"example": 0, "type": "integer"}, "rating_counts": {"additionalProperties": {"type": "integer"}, "example": {"0": 0, "1": 1, "2": 2, "3": 4, "4": 6, "5": 8}, "type": "object"}, "reviews": {"items": {"$ref": "#/definitions/http.Review"}, "type": "array"}, "total_reviews": {"example": 21, "type": "integer"}}, "type": "object"}, "http.ReviewMedia": {"properties": {"id": {"example": "123e4567-e89b-12d3-a456-426614174000", "type": "string"}, "ordering": {"example": 0, "type": "integer"}, "url": {"example": "https://cdn.fitcity/reviews/destination/review/image-1.jpg", "type": "string"}}, "type": "object"}, "http.SuccessResponse": {"properties": {"success": {"example": true, "type": "boolean"}}, "type": "object"}, "http.TrendingDestination": {"properties": {"city": {"example": "Chiang Mai", "type": "string"}, "country": {"example": "Thailand", "type": "string"}, "destination_id": {"example": "8cda9899-6533-4ed2-bf3e-85ee68588b79", "type": "string"}, "name": {"example": "Ao Manao - Khao Tanyong National Park", "type": "string"}, "views": {"additionalProperties": {"$ref": "#/definitions/http.DestinationViewCount"}, "type": "object"}}, "type": "object"}, "http.UsersListResponse": {"properties": {"meta": {"$ref": "#/definitions/http.UsersMeta"}, "users": {"items": {"$ref": "#/definitions/http.AuthUser"}, "type": "array"}}, "type": "object"}, "http.UsersMeta": {"properties": {"count": {"example": 2, "type": "integer"}, "limit": {"example": 20, "type": "integer"}, "offset": {"example": 0, "type": "integer"}}, "type": "object"}}, "info": {"contact": {}, "description": "Authentication and profile services for the Fit City platform.", "title": "Fit City API", "version": "1.0"}, "paths": {"/admin/destination-changes": {"get": {"description": "List destination change requests filtered by status or destination.", "parameters": [{"description": "Filter by status (draft,pending_review,approved,rejected)", "in": "query", "name": "status", "type": "string"}, {"description": "Destination UUID to filter by", "in": "query", "name": "destination_id", "type": "string"}, {"description": "Maximum number of records to return", "in": "query", "name": "limit", "type": "integer"}, {"description": "Number of records to skip", "in": "query", "name": "offset", "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationChangeListResponse"}}}, "security": [{"BearerAuth": []}], "summary": "List destination change requests", "tags": ["Admin Destinations"]}, "post": {"consumes": ["application/json"], "description": "Create a new destination change draft for create, update, or delete actions.", "parameters": [{"in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.DestinationDraftRequest"}}], "produces": ["application/json"], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Create destination change draft", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}": {"get": {"description": "Get a destination change request by identifier.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Get destination change request", "tags": ["Admin Destinations"]}, "put": {"consumes": ["application/json"], "description": "Update fields on an existing draft change request.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}, {"in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.DestinationUpdateRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Update destination change draft", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}/approve": {"post": {"description": "Approve a pending change request and apply it to the destination catalog.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationApproveResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Approve destination change request", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}/gallery": {"post": {"consumes": ["multipart/form-data"], "description": "Upload one or more optional gallery images for a draft change request. Uploaded URLs are appended to the draft payload.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}, {"collectionFormat": "multi", "description": "Gallery image files (JPEG, PNG, or WebP)", "in": "formData", "name": "files", "required": true, "type": "file"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"properties": {"change_request": {"$ref": "#/definitions/http.DestinationChange"}, "gallery_uploads": {"items": {"$ref": "#/definitions/http.GalleryUpload"}, "type": "array"}}, "type": "object"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Upload gallery images for change request", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}/hero-image": {"post": {"consumes": ["multipart/form-data"], "description": "Upload or replace the hero image for a change request draft.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}, {"description": "Image file to upload", "in": "formData", "name": "file", "required": true, "type": "file"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Upload hero image for change request", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}/reject": {"post": {"consumes": ["application/json"], "description": "Reject a pending change request with reviewer feedback.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}, {"in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.DestinationRejectRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Reject destination change request", "tags": ["Admin Destinations"]}}, "/admin/destination-changes/{id}/submit": {"post": {"description": "Submit a draft change request for review.", "parameters": [{"description": "Change request UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"202": {"description": "Accepted", "schema": {"$ref": "#/definitions/http.DestinationChangeResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Submit destination change for review", "tags": ["Admin Destinations"]}}, "/admin/destination-imports": {"post": {"consumes": ["multipart/form-data"], "description": "Upload a CSV file to create destination drafts in bulk. Use the dry_run flag to validate without persisting change requests.", "parameters": [{"description": "When true, validates the CSV without creating change requests.", "in": "query", "name": "dry_run", "type": "boolean"}, {"description": "CSV file containing destination rows.", "in": "formData", "name": "file", "required": true, "type": "file"}, {"description": "Optional operator notes stored with the job.", "in": "formData", "name": "notes", "type": "string"}], "produces": ["application/json"], "responses": {"202": {"description": "Accepted", "schema": {"$ref": "#/definitions/http.DestinationImportResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Upload destination import CSV", "tags": ["Admin Destinations"]}}, "/admin/destination-imports/template": {"get": {"description": "Download a CSV template with headers and a sample row for destination imports.", "produces": ["text/csv"], "responses": {"200": {"description": "OK", "schema": {"type": "string"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Get destination import template", "tags": ["Admin Destinations"]}}, "/admin/destination-imports/{id}": {"get": {"description": "Fetch a destination import job and its row-level details.", "parameters": [{"description": "Import job UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationImportResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Get destination import job", "tags": ["Admin Destinations"]}}, "/admin/destination-imports/{id}/errors": {"get": {"description": "Download a CSV describing all failed rows for a given import job.", "parameters": [{"description": "Import job UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["text/csv", "application/json"], "responses": {"200": {"description": "OK", "schema": {"type": "string"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Download destination import errors", "tags": ["Admin Destinations"]}}, "/admin/destination-stats/export": {"post": {"consumes": ["application/json"], "description": "Export destination popularity metrics as CSV for the requested destinations. When no body is provided, all published destinations are included.", "parameters": [{"description": "Optional list of destination IDs to include", "in": "body", "name": "data", "schema": {"$ref": "#/definitions/http.DestinationStatsExportRequest"}}], "produces": ["text/csv"], "responses": {"200": {"description": "CSV export", "schema": {"type": "string"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Export destination popularity", "tags": ["Admin Destinations"]}}, "/admin/destination-stats/views": {"get": {"description": "Return destination view metrics for admins with a forced Elasticsearch refresh.", "parameters": [{"description": "Destination UUID", "in": "query", "name": "destination_id", "required": true, "type": "string"}, {"description": "Optional range filter (1h,6h,12h,24h,7d,30d,all). Defaults to all-time.", "in": "query", "name": "range", "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationViewStatsResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Admin destination view stats", "tags": ["Admin Destinations"]}}, "/auth/google": {"post": {"consumes": ["application/json"], "description": "Authenticate using a Google Sign-In ID token.", "parameters": [{"description": "Google login payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.GoogleLoginRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.AuthTokenResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Login with Google", "tags": ["Auth"]}}, "/auth/login": {"post": {"consumes": ["application/json"], "description": "Authenticate using email/password credentials.", "parameters": [{"description": "Login payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.LoginRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.AuthTokenResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Login with email", "tags": ["Auth"]}}, "/auth/logout": {"post": {"description": "Invalidate the current JWT session.", "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Logout", "tags": ["Auth"]}}, "/auth/me": {"get": {"description": "Fetch details for the authenticated user.", "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.AuthUserResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Retrieve profile", "tags": ["Auth"]}}, "/auth/password": {"post": {"consumes": ["application/json"], "description": "Update the authenticated user's password.", "parameters": [{"description": "Password change payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.ChangePasswordRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Change password", "tags": ["Auth"]}}, "/auth/password/reset-confirm": {"post": {"consumes": ["application/json"], "description": "Set a new password using a reset OTP sent to email.", "parameters": [{"description": "Password reset confirmation payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.PasswordResetConfirmRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Confirm password reset", "tags": ["Auth"]}}, "/auth/password/reset-request": {"post": {"consumes": ["application/json"], "description": "Send a reset OTP to the provided email address.", "parameters": [{"description": "Password reset request payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.PasswordResetRequest"}}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Request password reset", "tags": ["Auth"]}}, "/auth/profile": {"post": {"consumes": ["multipart/form-data"], "description": "Update profile metadata and optionally upload an avatar.", "parameters": [{"description": "Full name", "in": "formData", "name": "full_name", "type": "string"}, {"description": "Username", "in": "formData", "name": "username", "type": "string"}, {"description": "Avatar image", "in": "formData", "name": "avatar", "type": "file"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.AuthUserResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Complete profile", "tags": ["Auth"]}}, "/auth/register": {"post": {"consumes": ["application/json"], "description": "Create a new Fit City account using an email address and password.", "parameters": [{"description": "Registration payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.RegisterRequest"}}], "produces": ["application/json"], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/http.AuthTokenResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Register with email", "tags": ["Auth"]}}, "/auth/users": {"get": {"description": "Retrieve a paginated list of users. Limit is capped at 200.", "parameters": [{"description": "Number of users to return (max 200)", "in": "query", "maximum": 200, "name": "limit", "type": "integer"}, {"description": "Offset for pagination", "in": "query", "name": "offset", "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.UsersListResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "List users", "tags": ["Auth"]}}, "/auth/users/{id}": {"delete": {"description": "Delete a user by ID. Requires an authorized actor with sufficient permissions.", "parameters": [{"description": "User ID (UUID)", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Delete user", "tags": ["Auth"]}}, "/destinations": {"get": {"description": "List published destinations visible to end users.", "parameters": [{"description": "Maximum number of records to return", "in": "query", "name": "limit", "type": "integer"}, {"description": "Number of records to skip", "in": "query", "name": "offset", "type": "integer"}, {"description": "Full text search across name, city, country, category, or description", "in": "query", "name": "query", "type": "string"}, {"description": "Comma-separated list of categories to include", "in": "query", "name": "categories", "type": "string"}, {"description": "Minimum average rating (0-5)", "format": "double", "in": "query", "name": "min_rating", "type": "number"}, {"description": "Maximum average rating (0-5)", "format": "double", "in": "query", "name": "max_rating", "type": "number"}, {"description": "Sort order (rating_desc, rating_asc, alpha_asc, alpha_desc, updated_at_desc)", "in": "query", "name": "sort", "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationListResponse"}}}, "summary": "List published destinations", "tags": ["Destinations"]}}, "/destinations/trending": {"get": {"description": "List the most-viewed destinations for a given time window.", "parameters": [{"description": "View range (1h,6h,12h,24h,7d,30d,all). Defaults to all-time when omitted.", "in": "query", "name": "range", "type": "string"}, {"description": "Maximum number of destinations to return (default 10).", "in": "query", "name": "limit", "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationTrendingResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "List trending destinations", "tags": ["Destinations"]}}, "/destinations/{destination_id}/favorites/count": {"get": {"description": "Retrieve the number of users who saved the specified destination.", "parameters": [{"description": "Destination UUID", "in": "path", "name": "destination_id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.FavoriteCountResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Count destination favorites", "tags": ["Favorites"]}}, "/destinations/{destination_id}/reviews": {"get": {"description": "List reviews for a published destination with optional filters.", "parameters": [{"description": "Destination UUID", "in": "path", "name": "destination_id", "required": true, "type": "string"}, {"description": "Maximum number of reviews to return (default 20, max 100)", "in": "query", "name": "limit", "type": "integer"}, {"description": "Number of reviews to skip", "in": "query", "name": "offset", "type": "integer"}, {"description": "Filter by exact rating (0-5)", "in": "query", "name": "rating", "type": "integer"}, {"description": "Minimum rating (0-5)", "in": "query", "name": "min_rating", "type": "integer"}, {"description": "Maximum rating (0-5)", "in": "query", "name": "max_rating", "type": "integer"}, {"description": "Include reviews posted on or after this timestamp (RFC3339)", "in": "query", "name": "posted_after", "type": "string"}, {"description": "Include reviews posted on or before this timestamp (RFC3339)", "in": "query", "name": "posted_before", "type": "string"}, {"description": "Sort field (`created_at` or `rating`)", "in": "query", "name": "sort", "type": "string"}, {"description": "Sort order (`asc` or `desc`)", "in": "query", "name": "order", "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.ReviewListResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "List destination reviews", "tags": ["Reviews"]}, "post": {"consumes": ["multipart/form-data"], "description": "Create a review for a destination. Requires authentication. Users may upload up to five images.", "parameters": [{"description": "Destination UUID", "in": "path", "name": "destination_id", "required": true, "type": "string"}, {"description": "Rating value between 0 and 5", "in": "formData", "name": "rating", "required": true, "type": "integer"}, {"description": "Optional review title", "in": "formData", "name": "title", "type": "string"}, {"description": "Optional review content (requires title if provided)", "in": "formData", "name": "content", "type": "string"}, {"collectionFormat": "multi", "description": "Review images (JPEG, PNG, or WebP)", "in": "formData", "name": "images", "type": "file"}], "produces": ["application/json"], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/http.ReviewCreateResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Create review", "tags": ["Reviews"]}}, "/destinations/{identifier}/views": {"get": {"description": "Return aggregated view counts for a published destination using its UUID or slug.", "parameters": [{"description": "Destination UUID or slug", "in": "path", "name": "identifier", "required": true, "type": "string"}, {"description": "Comma-separated view ranges to include (1h,6h,12h,24h,7d,30d,all). Defaults to all ranges when omitted.", "in": "query", "name": "range", "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationViewStatsResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Get destination view stats", "tags": ["Destinations"]}}, "/destinations/{id}": {"get": {"description": "Retrieve a published destination by UUID or slug.", "parameters": [{"description": "Destination UUID or slug", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.DestinationResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "summary": "Get published destination", "tags": ["Destinations"]}}, "/reviews/{id}": {"delete": {"description": "Soft delete a review. Only the author or an administrator may delete a review.", "parameters": [{"description": "Review UUID", "in": "path", "name": "id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.SuccessResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "403": {"description": "Forbidden", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Delete review", "tags": ["Reviews"]}}, "/users/me/favorites": {"get": {"description": "List destinations saved to the authenticated user's favorites.", "parameters": [{"description": "Maximum number of favorites to return (default 20, max 100)", "in": "query", "name": "limit", "type": "integer"}, {"description": "Number of favorites to skip", "in": "query", "name": "offset", "type": "integer"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.FavoriteListResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "List my favorites", "tags": ["Favorites"]}, "post": {"consumes": ["application/json"], "description": "Save a destination to the authenticated user's favorites.", "parameters": [{"description": "Favorite payload", "in": "body", "name": "payload", "required": true, "schema": {"$ref": "#/definitions/http.FavoriteSaveRequest"}}], "produces": ["application/json"], "responses": {"201": {"description": "Created", "schema": {"$ref": "#/definitions/http.FavoriteSaveResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "409": {"description": "Conflict", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Save destination", "tags": ["Favorites"]}}, "/users/me/favorites/{destination_id}": {"delete": {"description": "Remove a destination from the authenticated user's favorites.", "parameters": [{"description": "Destination UUID", "in": "path", "name": "destination_id", "required": true, "type": "string"}], "produces": ["application/json"], "responses": {"200": {"description": "OK", "schema": {"$ref": "#/definitions/http.FavoriteRemoveResponse"}}, "400": {"description": "Bad Request", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "401": {"description": "Unauthorized", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "404": {"description": "Not Found", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}, "500": {"description": "Internal Server Error", "schema": {"$ref": "#/definitions/http.ErrorResponse"}}}, "security": [{"BearerAuth": []}], "summary": "Unsave destination", "tags": ["Favorites"]}}}, "schemes": ["http", "https"], "securityDefinitions": {"BearerAuth": {"in": "header", "name": "Authorization", "type": "apiKey"}}, "swagger": "2.0"}